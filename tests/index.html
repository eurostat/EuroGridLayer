<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Test</title>
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.5/pixi.min.js"></script>

<body>
    <script type="text/javascript">
        //see doc: http://pixijs.download/release/docs/index.html

        let type = "WebGL"
        if (!PIXI.utils.isWebGLSupported()) type = "canvas"

        //create application and add it to page
        let app = new PIXI.Application({
            width: 1000,         // default: 800
            height: 1000,        // default: 600
            antialias: true,    // default: false
            transparent: false, // default: false
            resolution: 1       // default: 1  <- check that !
            //forceCanvas: true,
        }
        );
        document.body.appendChild(app.view);

        app.renderer.backgroundColor = 0x061639;



        //make fake dataser of 40*40 tiles of random cells. Each tile contains 25*25 cells
        var tiles = [];
        for (var i = 0; i < 40; i++)
            for (var j = 0; j < 40; j++) {
                var tile = { x: i, y: j, cells: [] };
                tiles.push(tile);
                for (var x = 0; x < 25; x++)
                    for (var y = 0; y < 25; y++) {
                        var cell = { x: x, y: y, val: 100 * Math.random() };
                        tile.cells.push(cell);
                    }
            }

        //value to color
        var valueToColor = function (value) {
            if (value > 90) return 0xff0f00; //red
            if (value > 80) return 0xffce08; //orange
            if (value > 60) return 0xebff0a; //yellow
            if (value > 40) return 0x55e238; //green
            return 0x005cff; //blue
        };


        //draw tiles
        //each cell has a size of 1 pixel
        for (var i = 0; i < tiles.length; i++) {
            var tile = tiles[i];
            let gr = new PIXI.Graphics();
            for (var j = 0; j < tile.cells.length; j++) {
                var cell = tile.cells[j];
                //draw cell
                gr.beginFill( valueToColor(cell.val) );
                gr.drawRect(tile.x * 25 + cell.x, tile.y * 25 + cell.y, 1, 1);
                gr.endFill();
            }
            app.stage.addChild(gr);
        }
        //gr.destroy();
        //var tile = new PIXI.Container();

        //use that to load tiles:
        //load an image and run the `setup` function when it's done
        //PIXI.loader
        //    .add("images/cat.png")
        //    .load(setup);

        //console.log(viewport);


    </script>
</body>

</html>