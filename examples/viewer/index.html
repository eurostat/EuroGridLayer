<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>GridViz Viewer</title>


  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="src/css/simple-sidebar.css" rel="stylesheet">
  <link href="src/css/styles.css" rel="stylesheet">

  <!-- icons -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

</head>
<!-- gridviz -->
<script src="vendor/gridviz/gridviz.min.js"></script>

<body>

  <div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
      <div id="side-menu-title" class="d-flex border-bottom">
        <div class="mr-auto p-2 sidebar-heading">
          <h3>Datasets</h3>
        </div>
        <div class="p-2"> <button class="btn btn-sm btn-primary" id="menu-toggle" title="toggle menu">
            <i id="menu-toggle-icon" class="fas fa-chevron-left"></i>
          </button></div>
      </div>

      <div class="list-group list-group-flush">
        <li id="europe1km" class="list-group-item list-group-item-action bg-light">Europe 1km² Population Grid</li>
        <li id="europe2km" class="list-group-item list-group-item-action bg-light">Europe 2km² Population Grid</li>
        <li id="europe5km" class="list-group-item list-group-item-action bg-light">Europe 5km² Population Grid</li>
        <li href="#" class="list-group-item list-group-item-action bg-light">Netherlands 100m² Census Data</li>
        <li href="#" class="list-group-item list-group-item-action bg-light">Croatia 1km² Tourism Grid</li>
        <li href="#" class="list-group-item list-group-item-action bg-light">France 1km² Census Data</li>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">

      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <!-- <button class="btn btn-primary hidden" id="menu-toggle-navbar"><i class="fas fa-layer-group"></i></button> -->
        <h1 style="margin-left:20px; margin-bottom:0px;">GridViz Showcase</h1>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">

            <!-- <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li> -->

            <li class="nav-item">
              <a class="nav-link" target="_blank" href="https:github.com/eurostat/gridviz"><i
                  class="fab fa-github"></i></a>
            </li>

            <!-- <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                Dropdown
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li> -->

          </ul>
        </div>
      </nav>

      <div id="viz-container" class="container-fluid"></div>

    </div>
    <!-- /#page-content-wrapper -->

  </div>
  <!-- /#wrapper -->

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Menu Toggle Script -->
  <script>
    //menu toggle button
    $("#menu-toggle").click(function (e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
      let btn = $("#menu-toggle-icon")
      btn.toggleClass("fa-chevron-right");
      btn.toggleClass("fa-chevron-left");
    });

    //TOC layer toggle
    $("#europe5km").click(function (e) {
      e.preventDefault();
      $("#europe5km").toggleClass("selected");

      let viz = gridviz.viewer()
        .container(document.getElementById("viz-container"))
        .gridData([
          {
            url: "../../../assets/csv/Europe/5km/3035/pop_grid_5km_incl_uninhab.csv",
            cellSize: 5
          }
        ])
        .zerosRemoved(3)
        .colorField("Population")  // csv column which you wish to visualize
        //sizeColumn() "value" // csv column which you wish to visualize
        .nuts2json(false) //loads borders topojson
        .center([4369, 3230])//EPSG=3035
        .height(window.innerHeight)
        .width(window.innerWidth)
        .backgroundColor("#000")
        .borderColor("#ffffff")
        .loadingIcon("ellipsis")
        .legend({
          type: "continuous",
          height: 350,
          title: "Total population per 5 km² (2011)",
          titleWidth: 130,
          cells: 15
        })
        .sourcesHTML("Source: <a target='__blank' href='https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/population-distribution-demography/geostat'>GEOSTAT</a>")
        .build()
    });
  </script>

</body>

</html>